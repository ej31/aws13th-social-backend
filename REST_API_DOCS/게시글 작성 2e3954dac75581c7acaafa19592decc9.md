# 게시글 작성

리소스: Posts
method: POST
API path: posts
Error: 400, 401, 403, 415, 422
비고: 새로운 게시물을 작성합니다.

### 게시글 작성

**POST** `/posts`

새로운 게시물을 작성합니다.

**Request Headers**

| 헤더 | 타입 | 필수 | 설명 |
| --- | --- | --- | --- |
| Content-Type | multipart/form-data | ✅ | 텍스트 필드와 파일(**첨부파일**)을 함께 전송하기 위한 포맷 |
| Authorization | string | ✅ | 게시물 작성을 하는 사람이 본인임을 확인하기 위한 토큰 (`Bearer <access_token>` 형식의 인증 토큰)(예: `Authorization: Bearer eyJ...`) |

**Request Body**

| 필드 | 타입 | 필수 | 설명 |
| --- | --- | --- | --- |
| title | string | ✅ | 게시물의 제목 |
| content | string | ✅ | 게시물의 본문 |
| post_file | file | ❎ | 첨부파일(선택). 허용 형식: jpeg/png/mp3/mp4 |

**Request Example  (multipart/form-data)**

| title | 새로운 게시물 제목 |
| --- | --- |
| content | 새로운 게시물 내용 |
| post_file | `post.png` ,`post.jpeg` , `post.mp3` ,`post.mp4`      |

**Response (201 Created)**

```json
{
  "status": "success",
  "data": {
    "id": "post_02",
    "title": "새로운 게시물 제목",
    "content": "새로운 게시물 내용",
    "view_count": 0,
    "like_count": 0,
    "attachment_url": null,
    "created_at": "2026-01-04T12:00:00Z",
    "author": {
      "id": "user_1234567abc",
      "nickname": "sihwa",
      "profile_image_url": "https://api.example.com/uploads/profiles/default.png"
    }
  }
}

```

파일 없으면 `attachment_url: null`

**Error**

| HTTP | code | message | 발생 조건 |
| --- | --- | --- | --- |
| 400 | COMMON_400_02 | Multipart parse failed. | multipart 파싱 실패 |
| 401 | AUTH_401_01 | Authorization required. | Authorization 헤더 없음 |
| 401 | AUTH_401_02 | Invalid token. | 토큰 위조/형식 오류 |
| 401 | AUTH_401_03 | Token expired. | 토큰 만료 |
| 413 | UPLOAD_413_02 | File too large. | post_file 용량 제한 초과(서버 정책) |
| 415 | COMMON_415_01 | Unsupported media type. | Content-Type이 multipart/form-data 아님 |
| 415 | UPLOAD_415_02 | Unsupported file type. | post_file이 jpeg/png/mp3/mp4 아님 |
| 422 | POSTS_422_08 | Invalid title. | title 누락/빈값/정책 위반(길이 등) |
| 422 | POSTS_422_09 | Invalid content. | content 누락/빈값 |