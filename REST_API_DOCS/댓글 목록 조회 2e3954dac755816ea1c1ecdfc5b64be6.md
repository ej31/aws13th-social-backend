# 댓글 목록 조회

리소스: Comments
method: GET
API path: comments, posts, {post_id}
Error: 404, 422
비고: 특정 게시글의 댓글 목록을 조회한다. Query Parameters를 통해 검색/정렬/페이지네이션을 적용할 수 있다

### 댓글 목록 조회

**GET** `/posts/{post_id}/comments`

특정 게시글의 댓글 목록을 조회한다. Query Parameters를 통해 검색/정렬/페이지네이션을 적용할 수 있다

**Query Parameters**

| 파라미터 | 타입 | 필수 | 설명 |
| --- | --- | --- | --- |
| page | integer | ❎ | 페이지 번호 (기본값 : 1) |
| limit | integer | ❎ | 페이지 당 개수 (기본값 : 20, 최대 100) |
| q | string | ❎ | 검색어 (댓글 내용에서 검색) |
| search_by | string | ❎ | 검색 범위 :  content | author_nickname | content, author_nickname(기본값: content, q가 있을때 적용)
 |
| sort | string | ❎ | sort : created_at (기본값: created_at) |
| order | string | ❎ | 정렬 방향 (asc, desc(기본값))
sort와 함께 사용한다 |

**Response (200 OK)**

```json
{
  "status": "success",
  "data": [
    {
      "id": "comment_01",
      "content": "댓글 내용 1",
      "created_at": "2026-01-04T12:00:00Z",
      "author": {
        "id": "user_1234567abc",
        "nickname": "sihwa",
        "profile_image_url": "https://api.example.com/uploads/profiles/default.png"
      }
    },
    {
      "id": "comment_02",
      "content": "댓글 내용 2",
      "created_at": "2026-01-05T12:00:00Z",
      "author": {
        "id": "user_1234567abc2",
        "nickname": "sihwa2",
        "profile_image_url": "https://api.example.com/uploads/profiles/default2.png"
      }
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 100
  }
}

```

Note: `pagination.total`은 검색/필터 적용 후 전체 댓글 수이다.

**Error**

| HTTP | code | message | 발생 조건 |
| --- | --- | --- | --- |
| 404 | POSTS_404_01 | Post not found. | 해당 `post_id` 게시글 없음 |
| 422 | POSTS_422_07 | Invalid post_id. | `post_id` 형식 오류 |
| 422 | COMMENTS_422_01 | Invalid page. | `page < 1` 또는 숫자 아님 |
| 422 | COMMENTS_422_02 | Invalid limit. | `limit < 1` 또는 `limit > 100` 또는 숫자 아님 |
| 422 | COMMENTS_422_03 | Invalid sort. | `sort`가 `created_at`이 아님 |
| 422 | COMMENTS_422_04 | Invalid order. | `order ∉ {asc, desc}` |
| 422 | COMMENTS_422_05 | Invalid search_by. | `search_by ∉ {content, author_nickname, content,author_nickname}` |
| 422 | COMMENTS_422_06 | q required for search_by. | `search_by`를 줬는데 `q`가 없음 |